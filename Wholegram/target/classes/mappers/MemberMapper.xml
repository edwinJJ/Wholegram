<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="net.nigne.wholegram.mappers.MemberMapper">
	<select id="compare" resultType="int">
		select count(*) from member where (user_id = #{user_id} and passwd = #{passwd})
	</select>
	<select id="MemInfo" resultType="net.nigne.wholegram.domain.MemberVO">
		select * from member where user_id = #{user_id}
	</select>
	<select id="compareId" resultType="int">
		select count(*) from member where user_id = #{id}
	</select>
	<select id="compareEmail" resultType="int">
		select count(*) from member where email = #{email}
	</select>
	<update id="updateUser">
		update Member
		<set>
			<if test="user_id != null">
				user_id = #{user_id},
			</if>
			user_name = #{user_name},
			info = #{info},
			email = #{email},
			phone = #{phone},
			gender = #{gender},
			recommend = #{recommend}
		</set>
		where mem_no = #{mem_no}
	</update>
	<select id="checkPasswd" resultType="String">
		select passwd from member where mem_no = #{mem_no}
	</select>
	<update id="updatePasswd">
		update Member
		<set>
			passwd = #{passwd}
		</set>
		where mem_no = #{mem_no}
	</update>
	<select id="getFollowinguser_Profile" resultType="net.nigne.wholegram.domain.MemberVO">
		select user_id, user_profile from member where user_id = #{user_id}
	</select>
</mapper>